{"version":3,"file":"assets.js","sourceRoot":"","sources":["../webpack/assets.ts"],"names":[],"mappings":";;AAAA,MAAM,iBAAiB,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AACzD,6BAA6B;AAO7B,SAAgB,SAAS,CAAC,MAA4B,EAAE,IAAY;IAChE,MAAM,yBAAyB,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAyB,EAAE,EAAE;QACvE,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAClE,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;QAC1E,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9E,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;YAC/B,MAAM,OAAO,GAAG,sEAAsE,CAAC;YACvF,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;SAC5B;QACD,OAAO;YACH,OAAO,EAAE,KAAK,CAAC,KAAK;YACpB,EAAE,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;YACnC,IAAI,EAAE;gBACF,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,GAAG,EAAE,IAAI;aACZ;SACJ,CAAC;IACN,CAAC,CAAC,CAAC;IACH,MAAM,wBAAwB,GAAG,EAAE,MAAM,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,cAAc,CAAC,EAAE,CAAC;IAC1F,MAAM,yBAAyB,GAAG,IAAI,iBAAiB,CACnD,yBAAyB,EACzB,wBAAwB,CAC3B,CAAC;IACD,yBAAiC,CAAC,2BAA2B,CAAC,GAAG,yBAAyB,CAAC;IAC3F,yBAAiC,CAAC,0BAA0B,CAAC,GAAG,wBAAwB,CAAC;IAC1F,OAAO,yBAAyB,CAAC;AACrC,CAAC;AA1BD,8BA0BC","sourcesContent":["const CopyWebpackPlugin = require('copy-webpack-plugin');\nimport * as path from 'path';\nexport interface AssetPatternObject {\n    glob: string;\n    input: string;\n    output: string;\n}\n\nexport function getAssets(assets: AssetPatternObject[], root: string) {\n    const copyWebpackPluginPatterns = assets.map((asset: AssetPatternObject) => {\n        asset.input = path.resolve(root, asset.input).replace(/\\\\/g, '/');\n        asset.input = asset.input.endsWith('/') ? asset.input : asset.input + '/';\n        asset.output = asset.output.endsWith('/') ? asset.output : asset.output + '/';\n        if (asset.output.startsWith('..')) {\n            const message = 'An asset cannot be written to a location outside of the output path.';\n            throw new Error(message);\n        }\n        return {\n            context: asset.input,\n            to: asset.output.replace(/^\\//, ''),\n            from: {\n                glob: asset.glob,\n                dot: true\n            }\n        };\n    });\n    const copyWebpackPluginOptions = { ignore: ['.gitkeep', '**/.DS_Store', '**/Thumbs.db'] };\n    const copyWebpackPluginInstance = new CopyWebpackPlugin(\n        copyWebpackPluginPatterns,\n        copyWebpackPluginOptions\n    );\n    (copyWebpackPluginInstance as any)['copyWebpackPluginPatterns'] = copyWebpackPluginPatterns;\n    (copyWebpackPluginInstance as any)['copyWebpackPluginOptions'] = copyWebpackPluginOptions;\n    return copyWebpackPluginInstance;\n}\n"]}